webpackJsonp([1],{FLU7:function(t,o,e){var s=e("TrJ9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("4bf2fd7d",s,!0)},TrJ9:function(t,o,e){o=t.exports=e("FZ+f")(!0),o.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"LockBooks.vue",sourceRoot:""}])},ZDzv:function(t,o,e){"use strict";(function(t){o.a={name:"CommonBooks",data:function(){return{books:[],selectedBook:[],addBook:0}},created:function(){this.$http.get("/api/lockbooks/lockBookList").then(function(t){this.books=t.data,console.log(t.data);for(var o=0;o<this.books.length;o++){var e=new Date(this.books[o].date);e=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),this.books[o].date=e}}).then(function(t){console.log(t)})},methods:{chooseBook:function(t){this.selectedBook=t},updateBook:function(){this.selectedBook.inventory=parseInt(this.selectedBook.inventory)+parseInt(this.addBook),t("#updateModal").modal("hide"),this.$http.post("/api/lockbooks/updateInventory",{inventory:this.selectedBook.inventory,bookName:this.selectedBook.bookName},{}).then(function(t){console.log(t.data),this.removeByValue(this.books,this.selectedBook)}).then(function(t){console.log(t)})},removeByValue:function(t,o){for(var e=0;e<t.length;e++)if(t[e]==o){t.splice(e,1);break}}}}}).call(o,e("7t+N"))},"k/TC":function(t,o,e){"use strict";function s(t){e("FLU7")}Object.defineProperty(o,"__esModule",{value:!0});var a=e("ZDzv"),n=e("mmh7"),i=e("VU/8"),l=s,r=i(a.a,n.a,!1,l,null,null);o.default=r.exports},mmh7:function(t,o,e){"use strict";var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"container"},[e("div",{staticClass:"col-sm-12"},[t._m(0),t._v(" "),e("hr"),t._v(" "),e("div",[t.books.length?t._e():e("p",[e("strong",[t._v("还没有任何书籍")])]),t._v(" "),e("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),e("tbody",t._l(t.books,function(o,s){return e("tr",[e("td",[t._v(t._s(o.bookId))]),t._v(" "),e("td",[t._v(t._s(o.bookName))]),t._v(" "),e("td",[t._v(t._s(o.publisher))]),t._v(" "),e("td",[t._v(t._s(o.supplier))]),t._v(" "),e("td",[t._v(t._s(o.inventory))]),t._v(" "),e("td",[t._v(t._s(o.date))])])}))])])]),t._v(" "),e("div",{staticClass:"col-sm-12"},[t._m(2),t._v(" "),e("hr"),t._v(" "),e("div",[t.books.length?t._e():e("p",[e("strong",[t._v("还没有任何书籍")])]),t._v(" "),e("table",{staticClass:"table table-striped"},[t._m(3),t._v(" "),e("tbody",t._l(t.books,function(o,s){return e("tr",[e("td",[t._v(t._s(o.bookId))]),t._v(" "),e("td",[t._v(t._s(o.bookName))]),t._v(" "),e("td",[t._v(t._s(o.publisher))]),t._v(" "),e("td",[t._v(t._s(o.supplier))]),t._v(" "),e("td",[t._v(t._s(o.inventory))]),t._v(" "),e("td",[t._v(t._s(20-o.inventory))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-success",attrs:{"data-toggle":"modal","data-target":"#updateModal"},on:{click:function(e){t.chooseBook(o)}}},[t._v("进货")])])])}))])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"updateModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputPassword1"}},[t._v("进货数量")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addBook,expression:"addBook"}],staticClass:"form-control",attrs:{type:"text",placeholder:"inventory"},domProps:{value:t.addBook},on:{input:function(o){o.target.composing||(t.addBook=o.target.value)}}})])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(o){t.updateBook()}}},[t._v("确认修改")])])])])])])},a=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("i",{staticClass:"glyphicon glyphicon-list-alt"}),t._v("\n      缺书列表\n      ")])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",[e("tr",[e("th",[t._v("书号")]),t._v(" "),e("th",[t._v("书名")]),t._v(" "),e("th",[t._v("出版社")]),t._v(" "),e("th",[t._v("供应商")]),t._v(" "),e("th",[t._v("存货")]),t._v(" "),e("th",[t._v("日期")])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("i",{staticClass:"glyphicon glyphicon-list-alt"}),t._v("\n      采购单\n      ")])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",[e("tr",[e("th",[t._v("书号")]),t._v(" "),e("th",[t._v("书名")]),t._v(" "),e("th",[t._v("出版社")]),t._v(" "),e("th",[t._v("供应商")]),t._v(" "),e("th",[t._v("存货")]),t._v(" "),e("th",[t._v("最少进货")]),t._v(" "),e("th",[t._v("操作")])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),e("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v("进货单")])])}],n={render:s,staticRenderFns:a};o.a=n}});
//# sourceMappingURL=1.f93abfa9be04160a0f96.js.map