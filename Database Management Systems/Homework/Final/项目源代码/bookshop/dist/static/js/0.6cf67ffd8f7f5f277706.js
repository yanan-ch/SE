webpackJsonp([0],{"4h1X":function(e,t,o){var s=o("zMm7");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o("rjj0")("659e3d9d",s,!0)},"9mnb":function(e,t,o){"use strict";function s(e){o("4h1X")}Object.defineProperty(t,"__esModule",{value:!0});var a=o("ltRw"),l=o("v+KJ"),r=o("VU/8"),n=s,i=r(a.a,l.a,!1,n,null,null);t.default=i.exports},ltRw:function(e,t,o){"use strict";(function(e){t.a={name:"CommonBooks",data:function(){return{books:[],selectedBook:[]}},created:function(){this.$http.get("/api/book/bookList").then(function(e){this.books=e.data,console.log(e.data)}).then(function(e){console.log(e)})},methods:{chooseBook:function(e){this.selectedBook=e},updateBook:function(){e("#updateModal").modal("hide"),this.$http.post("/api/book/updateBook",{bookId:this.selectedBook.bookId,author:this.selectedBook.author,keyword:this.selectedBook.keyword,price:this.selectedBook.price,inventory:this.selectedBook.inventory,publisher:this.selectedBook.publisher,supplier:this.selectedBook.supplier,bookName:this.selectedBook.bookName,url:this.selectedBook.url},{}).then(function(e){console.log(e.data)}).then(function(e){console.log(e)})},deleteBook:function(e){console.log(e.bookName),this.removeByValue(this.books,e),this.$http.post("/api/book/deleteBook",{bookName:e.bookName},{}).then(function(e){console.log(e.data)}).then(function(e){console.log(e)})},removeByValue:function(e,t){for(var o=0;o<e.length;o++)if(e[o]==t){e.splice(o,1);break}},addLock:function(){var e=this;console.log(1);for(var t=0;t<e.books.length;t++)if(e.books[t].inventory<20){var o=e.books[t];console.log(o),e.$http.post("/api/lockbooks/addLock",{bookId:o.bookId,bookName:o.bookName,publisher:o.publisher,supplier:o.supplier,inventory:o.inventory}).then(function(e){console.log(e),-1==e.data?alert("请勿重复添加！"):alert("添加成功")})}location.href="/#/books/lockBooks"}}}}).call(t,o("7t+N"))},"v+KJ":function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"col-sm-12"},[e._m(0),e._v(" "),o("button",{staticClass:"btn btn-primary",on:{click:function(t){e.addLock()}}},[e._v("生成缺书列表")]),e._v(" "),o("hr"),e._v(" "),o("div",[e.books.length?e._e():o("p",[o("strong",[e._v("还没有任何书籍")])]),e._v(" "),o("table",{staticClass:"table table-striped"},[e._m(1),e._v(" "),o("tbody",e._l(e.books,function(t,s){return o("tr",[o("td",[e._v(e._s(t.bookId))]),e._v(" "),o("td",[e._v(e._s(t.bookName))]),e._v(" "),o("td",[e._v(e._s(t.author))]),e._v(" "),o("td",[e._v(e._s(t.publisher))]),e._v(" "),o("td",[e._v(e._s(t.price))]),e._v(" "),o("td",[e._v(e._s(t.keyword))]),e._v(" "),o("td",[e._v(e._s(t.supplier))]),e._v(" "),o("td",[e._v(e._s(t.inventory))]),e._v(" "),o("td",[e._v(e._s(t.url))]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-warning",attrs:{"data-toggle":"modal","data-target":"#updateModal"},on:{click:function(o){e.chooseBook(t)}}},[e._v("更新")]),o("button",{staticClass:"btn btn-danger",on:{click:function(o){e.deleteBook(t)}}},[e._v("删除")])])])}))])])]),e._v(" "),o("div",{staticClass:"modal fade",attrs:{id:"updateModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[e._m(2),e._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputEmail1"}},[e._v("书号")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.bookId,expression:"selectedBook.bookId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"bookId"},domProps:{value:e.selectedBook.bookId},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"bookId",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputEmail1"}},[e._v("书名")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.bookName,expression:"selectedBook.bookName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"name"},domProps:{value:e.selectedBook.bookName},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"bookName",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("作者")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.author,expression:"selectedBook.author"}],staticClass:"form-control",attrs:{type:"text",placeholder:"author"},domProps:{value:e.selectedBook.author},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"author",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("出版社")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.publisher,expression:"selectedBook.publisher"}],staticClass:"form-control",attrs:{type:"text",placeholder:"publisher"},domProps:{value:e.selectedBook.publisher},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"publisher",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("价格")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.price,expression:"selectedBook.price"}],staticClass:"form-control",attrs:{type:"text",placeholder:"price"},domProps:{value:e.selectedBook.price},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"price",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("关键")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.keyword,expression:"selectedBook.keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"keyword"},domProps:{value:e.selectedBook.keyword},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"keyword",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("供应商")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.supplier,expression:"selectedBook.supplier"}],staticClass:"form-control",attrs:{type:"text",placeholder:"supplier"},domProps:{value:e.selectedBook.supplier},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"supplier",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("存货")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.inventory,expression:"selectedBook.inventory"}],staticClass:"form-control",attrs:{type:"text",placeholder:"inventory"},domProps:{value:e.selectedBook.inventory},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"inventory",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleInputPassword1"}},[e._v("链接")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.url,expression:"selectedBook.url"}],staticClass:"form-control",attrs:{type:"text",placeholder:"url"},domProps:{value:e.selectedBook.url},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"url",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),e._v(" "),o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.updateBook()}}},[e._v("确认修改")])])])])])])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("i",{staticClass:"glyphicon glyphicon-list-alt"}),e._v("\n      书籍列表\n      ")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",[e._v("书号")]),e._v(" "),o("th",[e._v("书名")]),e._v(" "),o("th",[e._v("作者")]),e._v(" "),o("th",[e._v("出版社")]),e._v(" "),o("th",[e._v("价格")]),e._v(" "),o("th",[e._v("关键词")]),e._v(" "),o("th",[e._v("供应商")]),e._v(" "),o("th",[e._v("存货")]),e._v(" "),o("th",[e._v("链接")]),e._v(" "),o("th",[e._v("操作")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"modal-header"},[o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),e._v(" "),o("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),o("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v("修改信息")])])}],l={render:s,staticRenderFns:a};t.a=l},zMm7:function(e,t,o){t=e.exports=o("FZ+f")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CommonBooks.vue",sourceRoot:""}])}});
//# sourceMappingURL=0.6cf67ffd8f7f5f277706.js.map